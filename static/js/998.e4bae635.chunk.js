"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[998],{998:function(e,a,t){t.r(a),t.d(a,{Search:function(){return h}});var n=t(439),c=t(791),s=t(689),r=t(87),i=t(243),o="Search_container__FpDfx",u="Search_pagination__nAzU5",l=t(184),h=function(){var e,a=(0,c.useState)(1),t=(0,n.Z)(a,2),h=t[0],d=t[1],_=(0,c.useState)([]),f=(0,n.Z)(_,2),v=f[0],g=f[1],p=(0,c.useState)(0),m=(0,n.Z)(p,2),k=(m[0],m[1]),x=(0,c.useState)(0),j=(0,n.Z)(x,2),S=j[0],b=j[1],Z=(0,s.TH)();(0,c.useEffect)((function(){var a=new URLSearchParams(Z.search).get("query");if(a){var t="https://api.themoviedb.org/3/search/movie?api_key=".concat("d8ea0ad05a6720116583e1a3262a0452","&query=").concat(a,"&page=").concat(h);e=i.Z.CancelToken.source(),i.Z.get(t,{cancelToken:e.token}).then((function(e){g(e.data.results),k(e.data.total_results),b(e.data.total_pages)})).catch((function(a){i.Z.isCancel(a)?console.log("Request canceled",a.message):e||console.error("Error searching for movies:",a)}))}}),[Z.search,h]);return(0,l.jsxs)("div",{className:o,children:[(0,l.jsx)("ul",{children:v.map((function(e){return(0,l.jsx)("li",{children:(0,l.jsx)(r.rU,{to:"/movie/".concat(e.id),children:e.title})},e.id)}))}),(0,l.jsxs)("div",{className:u,children:[(0,l.jsx)("button",{onClick:function(){h>1&&d(h-1)},disabled:1===h,children:"Previous"}),(0,l.jsxs)("span",{children:["Page ",h]}),(0,l.jsx)("button",{onClick:function(){h<S&&d(h+1)},disabled:h===S,children:"Next"})]})]})}}}]);
//# sourceMappingURL=998.e4bae635.chunk.js.map